---
title: "SQL"
output: html_document
---

##Filtering Columns and Rows

With SQL, you can filter columns and rows by using SELECT and WHERE.  Let's look at an example using the Lahman database.  Wee should first load that database along with the package sqldf.

```{r message=FALSE, warning=FALSE}
library(Lahman)
library(sqldf)
```

Suppose now I would like to see the homerun totals for the 1927 Yankees, I could write the following query:

```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting 
WHERE teamID='NYA' and yearID=1927"
sqldf(query)
```

## ORDER BY

With SQL, you can order the rows of your output.  Now suppose I want to find every instance of a player hitting more than 50 homeruns, and I want the players with the highest homerun total at the top.  I could write it thusly:

```{r}
query<-"SELECT playerID, teamID, yearID, HR FROM Batting
WHERE HR>50
ORDER BY HR DESC"

sqldf (query)
```


